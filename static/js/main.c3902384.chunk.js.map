{"version":3,"sources":["useLocalStorage.js","PayList.js","App.js","index.js"],"names":["useLocalStorage","key","init","useState","JSON","parse","localStorage","getItem","Function","getSavedValue","value","setValue","useEffect","setItem","stringify","PayList","payment","payments","setPayments","deleteCheck","setDeleteCheck","Container","className","payAmount","style","fontSize","payBy","descriptions","Button","variant","size","onClick","Alert","filter","p","id","App","user1","setUser1","user2","setUser2","totalMoney","setTotalMoney","open","setOpen","setPayAmount","setPayBy","setDescriptions","closeModal","length","reduce","total","parseInt","minHeight","maxWidth","flexDirection","Card","type","onChange","e","target","width","Body","Footer","map","Modal","show","onHide","Form","onSubmit","preventDefault","console","log","uuidv4","Group","Label","Control","required","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3902384.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nfunction getSavedValue(key, init) {\r\n  const savedValue = JSON.parse(localStorage.getItem(key));\r\n  if (savedValue) return savedValue;\r\n\r\n  if (init instanceof Function) return init();\r\n  return init;\r\n}\r\n\r\nexport default function useLocalStorage(key, init) {\r\n  const [value, setValue] = useState(() => {\r\n    return getSavedValue(key, init);\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }, [key, value]);\r\n\r\n  return [value, setValue];\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Container, Button, Alert } from \"react-bootstrap\";\r\n\r\nexport default function PayList({ payment, payments, setPayments }) {\r\n  const [deleteCheck, setDeleteCheck] = useState(false);\r\n\r\n  function openDeleteCheck() {\r\n    setDeleteCheck(true);\r\n  }\r\n  function closeDeleteCheck() {\r\n    setDeleteCheck(false);\r\n  }\r\n\r\n  function handleDelete() {\r\n    setPayments(\r\n      payments.filter((p) => {\r\n        return p.id !== payment.id;\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"d-flex align-items-center justify-content-between w-100 m-1\">\r\n        <div>$ {payment.payAmount}</div>\r\n\r\n        <div style={{ fontSize: \"0.7rem\" }}>PayBy: {payment.payBy}</div>\r\n        <div style={{ fontSize: \"0.7rem\" }}>Des: {payment.descriptions}</div>\r\n\r\n        <Button\r\n          className=\"\"\r\n          variant=\"danger\"\r\n          size=\"sm\"\r\n          onClick={openDeleteCheck}\r\n        >\r\n          DELETE\r\n        </Button>\r\n      </Container>\r\n      {deleteCheck && (\r\n        <Alert variant=\"danger m-2 d-flex align-items-center justify-content-between\">\r\n          確認刪除 ?{\" \"}\r\n          <div>\r\n            <Button variant=\"primary m-1\" onClick={handleDelete}>\r\n              Confirm\r\n            </Button>\r\n            <Button variant=\"secondary\" onClick={closeDeleteCheck}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </Alert>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import useLocalStorage from \"./useLocalStorage\";\nimport { Container, Button, Card, Alert, Modal, Form } from \"react-bootstrap\";\nimport React, { useState, useEffect } from \"react\";\nimport PayList from \"./PayList\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nfunction App() {\n  const [user1, setUser1] = useLocalStorage(\"user1\", \"user1\");\n  const [user2, setUser2] = useLocalStorage(\"user2\", \"user2\");\n  const [totalMoney, setTotalMoney] = useLocalStorage(\"totalMoney\", 0);\n  const [payments, setPayments] = useLocalStorage(\"userPayments\", []);\n  const [open, setOpen] = useLocalStorage(\"open\", false);\n\n  const [payAmount, setPayAmount] = useState(\"\");\n  const [payBy, setPayBy] = useState(user1);\n  const [descriptions, setDescriptions] = useState(\"\");\n\n  useEffect(() => {\n    if (payments.length === 0) return setTotalMoney(0);\n    setTotalMoney(\n      payments.reduce((total, payment) => {\n        if (payment.payBy === user1) return total + parseInt(payment.payAmount);\n        if (payment.payBy === user2) return total - parseInt(payment.payAmount);\n        return total;\n      }, 0)\n    );\n  }, [payments, user1, user2, setTotalMoney]);\n\n  function user1Pay() {\n    setOpen(true);\n    setPayBy(user1);\n  }\n  function user2Pay() {\n    setOpen(true);\n    setPayBy(user2);\n  }\n  function closeModal() {\n    setPayAmount(\"\");\n    setDescriptions(\"\");\n    setOpen(false);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    console.log(\"payAmount: \" + payAmount);\n    console.log(\"descriptions: \" + descriptions);\n    console.log(\"payBy: \" + payBy);\n    const id = uuidv4();\n    setPayments([\n      ...payments,\n      {\n        id: id,\n        payBy: payBy,\n        payAmount: payAmount,\n        descriptions: descriptions,\n      },\n    ]);\n    closeModal();\n  }\n\n  return (\n    <>\n      <Container\n        className=\"d-flex align-items-center justify-content-center \"\n        style={{\n          minHeight: \"100vh\",\n          maxWidth: \"500px\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Card className=\"w-100\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <div className=\"m-2\">\n              <input\n                type=\"text\"\n                value={user1}\n                onChange={(e) => setUser1(e.target.value)}\n                style={{ width: \"100px\" }}\n              />\n              <Button size=\"sm\" className=\"m-2\" onClick={user1Pay}>\n                Pay\n              </Button>\n            </div>\n            <div>\n              <input\n                type=\"text\"\n                value={user2}\n                onChange={(e) => setUser2(e.target.value)}\n                style={{ width: \"100px\" }}\n              />\n              <Button size=\"sm\" className=\"m-2\" onClick={user2Pay}>\n                Pay\n              </Button>\n            </div>\n          </div>\n          <Card.Body>\n            <div>\n              <Alert variant=\"success\" className=\"text-center\">\n                {totalMoney < 0\n                  ? `Total : ${user1} 欠 ${user2}  ${totalMoney * -1} 元`\n                  : `Total : ${user2} 欠 ${user1}  ${totalMoney} 元`}\n              </Alert>\n            </div>\n          </Card.Body>\n          <Card.Footer>\n            {payments &&\n              payments.map((payment) => (\n                <PayList\n                  key={payment.id}\n                  payment={payment}\n                  payments={payments}\n                  setPayments={setPayments}\n                ></PayList>\n              ))}\n          </Card.Footer>\n        </Card>\n      </Container>\n      <Modal show={open} onHide={closeModal}>\n        <Form onSubmit={handleSubmit}>\n          <Modal.Body>\n            <Form.Group>\n              <Form.Label>Payment Amount</Form.Label>\n              <Form.Control\n                type=\"text\"\n                required\n                value={payAmount}\n                onChange={(e) => setPayAmount(e.target.value)}\n              />\n              <Form.Label>Descriptions</Form.Label>\n              <Form.Control\n                type=\"text\"\n                required\n                value={descriptions}\n                onChange={(e) => setDescriptions(e.target.value)}\n              />\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={closeModal}>\n              Close\n            </Button>\n            <Button variant=\"success\" type=\"submit\">\n              Add Payment\n            </Button>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}